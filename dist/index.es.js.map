{"version":3,"file":"index.es.js","sources":["../src/utils.js","../src/location.svg","../src/Map.js","../src/GeolocationField.js","../src/index.js"],"sourcesContent":["export const coordValidation = (val, coord) => {\n  switch (coord) {\n    case 'lat':\n      return val > -90.0 && val < 90.0\n    case 'lng':\n      return val > -180.0 && val < 180.0\n    default:\n      return false\n  }\n}\n\nexport const computeValue = (rawValue, oldValue, coord) => {\n  if (!rawValue.match(/^-?\\d*\\.?\\d*$/)) {\n    return [oldValue, true]\n  }\n  if (!rawValue) {\n    return [undefined, false]\n  }\n  if (rawValue.endsWith('.')) {\n    // Special case for final \".\"\n    return [rawValue, true]\n  }\n  const nextValue = parseFloat(rawValue)\n  if (isNaN(nextValue)) {\n    return [rawValue, true]\n  }\n  if (!coordValidation(nextValue, coord)) {\n    return [oldValue, true]\n  }\n  return [nextValue, false]\n}\n","export default \"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%20%20%20%20%3Cpath%20fill%3D%22none%22%20d%3D%22M0%200h24v24H0V0z%22%2F%3E%20%20%20%20%3Cpath%20d%3D%22M12%202C8.14%202%205%205.14%205%209c0%205.25%207%2013%207%2013s7-7.75%207-13c0-3.86-3.14-7-7-7zm4%208h-3v3h-2v-3H8V8h3V5h2v3h3v2z%22%2F%3E%3C%2Fsvg%3E\"","import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport Map from 'ol/Map'\nimport Tile from 'ol/layer/Tile'\nimport VectorLayer from 'ol/layer/Vector'\nimport VectorSource from 'ol/source/Vector'\nimport OSM from 'ol/source/OSM'\nimport View from 'ol/View'\nimport * as proj from 'ol/proj'\nimport Style from 'ol/style/Style'\nimport Icon from 'ol/style/Icon'\nimport Feature from 'ol/Feature'\nimport Point from 'ol/geom/Point'\nimport ZoomSlider from 'ol/control/ZoomSlider'\n\nimport Geocoder from 'ol-geocoder'\n\nimport img from './location.svg'\n\nconst zoomslider = new ZoomSlider()\n\nconst icon = new Icon({\n  src: img,\n  // size: [30, 30],\n  // imgSize: [30, 30],\n  scale: 1.5,\n  anchor: [0.5, 0.95],\n})\nconst iconStyle = new Style({\n  image: icon,\n})\n\n// const markers = new Markers('Markers')\n// map.addLayer(markers);\n\nconst CLOSED_MAP_H = 60\n\nconst MapContainer = styled.div`\n  margin-top: 1em;\n  margin-bottom: 1em;\n  height: ${props => (props.expanded ? 'auto' : `${CLOSED_MAP_H}px`)};\n  overflow-y: hidden;\n  // box-shadow: 0px 30px 40px rgba(0,0,0,.1);\n`\n\nconst MapCover = styled.button`\n  display: block;\n  width: 100%;\n  border: 0;\n  margin: 0;\n  padding: 0;\n  height: ${props => (props.expanded ? 'auto' : `${CLOSED_MAP_H}px`)};\n  background: linear-gradient(rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 1));\n  cursor: s-resize;\n`\n\nconst MapClose = MapCover.extend`\n  cursor: n-resize;\n  bottom: 0;\n  height: ${props => (props.expanded ? 'auto' : `${CLOSED_MAP_H / 2}px`)};\n  position: absolute;\n`\n\nconst MapArea = styled.div`\n  height: 60vh;\n  cursor: pointer;\n  position: relative\n  top: ${props => (props.expanded ? '0' : `-${CLOSED_MAP_H}px`)};\n  ${props => (props.expanded ? '' : 'z-index: -1;')}\n`\n\nconst nop = () => {}\n\nclass MapSelection extends PureComponent {\n  static propTypes = {\n    name: PropTypes.string.isRequired,\n    onUpdateCoords: PropTypes.func,\n    lat: PropTypes.number,\n    lng: PropTypes.number,\n    zoom: PropTypes.number.isRequired,\n  }\n\n  static defaultProps = {\n    onUpdateCoords: nop,\n  }\n\n  state = {\n    mapExpanded: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.geocoder = new Geocoder('nominatim', {\n      provider: 'osm',\n      placeholder: 'Search for ...',\n      targetType: 'glass-button',\n      limit: 5,\n      keepOpen: false,\n      autoComplete: true,\n      autoCompleteMinLength: 4,\n      preventDefault: true,\n    })\n    this.vectorSource = new VectorSource({\n      // create empty vector\n    })\n    this.vectorLayer = new VectorLayer({\n      source: this.vectorSource,\n      style: iconStyle,\n    })\n\n    this.map = null\n    this.id = `map_${props.name}`\n  }\n\n  mapAction = (rawLng, rawLat) => {\n    const [lng, lat] = proj.transform([rawLng, rawLat], 'EPSG:3857', 'EPSG:4326')\n    this.props.onUpdateCoords({ lat, lng })\n  }\n\n  handleAdressSelection = evt => {\n    const [lng, lat] = evt.coordinate\n    this.mapAction(lng, lat)\n    this.centerMap()\n  }\n\n  handleMap = ev => {\n    this.setState(oldState => ({\n      mapExpanded: !oldState.mapExpanded,\n    }))\n  }\n\n  handleMapClick = evt => {\n    const [lng, lat] = evt.coordinate\n    this.mapAction(lng, lat)\n  }\n\n  drawPoint = () => {\n    this.vectorSource.clear()\n    const { name, lat, lng } = this.props\n    const iconFeature = new Feature({\n      geometry: new Point(proj.transform([lng, lat], 'EPSG:4326', 'EPSG:3857')),\n      name,\n      foo: 1,\n    })\n    this.vectorSource.addFeature(iconFeature)\n  }\n\n  centerMap = () => {\n    const { lat, lng } = this.props\n    this.map.getView().setCenter(proj.transform([lng, lat], 'EPSG:4326', 'EPSG:3857'))\n  }\n\n  render() {\n    const { mapExpanded } = this.state\n    return (\n      <MapContainer expanded={mapExpanded}>\n        {mapExpanded ? '' : <MapCover title='Expand map' onClick={this.handleMap} />}\n        <MapArea id={this.id} expanded={mapExpanded} />\n        {mapExpanded ? <MapClose title='Collpase map' onClick={this.handleMap} /> : ''}\n      </MapContainer>\n    )\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.lat !== this.props.lat || prevProps.lng !== this.props.lng) {\n      this.drawPoint()\n    }\n  }\n\n  componentDidMount() {\n    const { lat, lng, zoom } = this.props\n    this.map = new Map({\n      target: this.id,\n      layers: [\n        new Tile({\n          source: new OSM(),\n        }),\n        this.vectorLayer,\n      ],\n      view: new View({\n        center: proj.fromLonLat([lng, lat]),\n        zoom: zoom,\n      }),\n    })\n    this.map.addControl(zoomslider)\n    this.geocoder.on('addresschosen', this.handleAdressSelection)\n    this.map.addControl(this.geocoder)\n    this.map.on('singleclick', this.handleMapClick)\n    this.drawPoint()\n  }\n}\n\nexport default MapSelection\n","import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { computeValue } from './utils'\nimport Map from './Map'\n\nconst Row = styled.div`\n  .input-group-addon {\n    min-width: 8em;\n  }\n`\n\nexport default class GeolocationField extends PureComponent {\n  static propTypes = {\n    formData: PropTypes.object,\n    schema: PropTypes.object,\n    uiSchema: PropTypes.object,\n    onChange: PropTypes.func,\n    name: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    onChange: () => {},\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = { ...props.formData }\n  }\n\n  handleUpdateCoords = ({ lat, lng }) => {\n    this.setState({\n      lat,\n      lng,\n    })\n  }\n\n  handleKeyPress = evt => {\n    if (evt.key === 'Enter') {\n      this.map.centerMap()\n      evt.preventDefault()\n      evt.stopPropagation()\n    }\n  }\n\n  onChange(name) {\n    return event => {\n      const rawValue = event.target.value\n      this.setState(oldState => {\n        const [nextVal, invalid] = [...computeValue(rawValue, oldState[name], name)]\n        if (nextVal === oldState[name]) {\n          return null\n        }\n        if (!invalid) {\n          this.props.onChange({ ...oldState, ...{ [name]: nextVal } })\n        }\n        return {\n          [name]: nextVal,\n        }\n      })\n    }\n  }\n\n  render() {\n    const { schema, uiSchema, name } = this.props\n    const { zoom } = uiSchema\n    const { title } = schema\n    const { lat = '', lng = '' } = this.state\n    const latId = `${name}_lat`\n    const lngId = `${name}_lng`\n    return (\n      <Row className='row'>\n        <div className='col-xs-12'>\n          <label htmlFor={latId}>{title || name}</label>\n        </div>\n        <div className='col-xs-12 col-sm-6'>\n          <div className='input-group'>\n            <span className='input-group-addon' id={latId}>\n              Latitude\n            </span>\n            <input\n              className='form-control'\n              aria-describedby={latId}\n              type='text'\n              id={`${latId}_field`}\n              value={lat}\n              onKeyPress={this.handleKeyPress}\n              onChange={this.onChange('lat')}\n            />\n          </div>\n        </div>\n        <div className='col-xs-12 col-sm-6'>\n          <div className='input-group'>\n            <span className='input-group-addon' id={lngId}>\n              Longitude\n            </span>\n            <input\n              className='form-control'\n              aria-describedby={lngId}\n              type='text'\n              id={`${lngId}_field`}\n              value={lng}\n              onKeyPress={this.handleKeyPress}\n              onChange={this.onChange('lng')}\n            />\n          </div>\n        </div>\n        <div className='col-xs-12'>\n          <Map\n            ref={map => (this.map = map)}\n            name={name}\n            lat={lat}\n            lng={lng}\n            zoom={zoom}\n            onUpdateCoords={this.handleUpdateCoords}\n          />\n        </div>\n      </Row>\n    )\n  }\n}\n","import GeolocationField from './GeolocationField'\n\nexport default {\n  geolocation: GeolocationField\n}\n"],"names":["coordValidation","val","coord","computeValue","rawValue","oldValue","match","undefined","endsWith","nextValue","parseFloat","isNaN","zoomslider","ZoomSlider","icon","Icon","img","iconStyle","Style","CLOSED_MAP_H","MapContainer","styled","div","props","expanded","MapCover","button","MapClose","extend","MapArea","nop","MapSelection","state","mapAction","rawLng","rawLat","proj","lng","lat","onUpdateCoords","handleAdressSelection","evt","coordinate","centerMap","handleMap","setState","oldState","mapExpanded","handleMapClick","drawPoint","vectorSource","clear","name","iconFeature","Feature","Point","addFeature","map","getView","setCenter","geocoder","Geocoder","VectorSource","vectorLayer","VectorLayer","id","prevProps","zoom","Map","Tile","OSM","View","addControl","on","PureComponent","propTypes","PropTypes","string","isRequired","func","number","defaultProps","Row","GeolocationField","handleUpdateCoords","handleKeyPress","key","preventDefault","stopPropagation","formData","event","target","value","nextVal","invalid","onChange","schema","uiSchema","title","latId","lngId","object"],"mappings":";;;;;;;;;;;;;;;;;AAAO,IAAMA,kBAAkB,SAAlBA,eAAkB,CAACC,GAAD,EAAMC,KAAN,EAAgB;UACrCA,KAAR;SACO,KAAL;aACSD,MAAM,CAAC,IAAP,IAAeA,MAAM,IAA5B;SACG,KAAL;aACSA,MAAM,CAAC,KAAP,IAAgBA,MAAM,KAA7B;;aAEO,KAAP;;CAPC;;AAWP,AAAO,IAAME,eAAe,SAAfA,YAAe,CAACC,QAAD,EAAWC,QAAX,EAAqBH,KAArB,EAA+B;MACrD,CAACE,SAASE,KAAT,CAAe,eAAf,CAAL,EAAsC;WAC7B,CAACD,QAAD,EAAW,IAAX,CAAP;;MAEE,CAACD,QAAL,EAAe;WACN,CAACG,SAAD,EAAY,KAAZ,CAAP;;MAEEH,SAASI,QAAT,CAAkB,GAAlB,CAAJ,EAA4B;;WAEnB,CAACJ,QAAD,EAAW,IAAX,CAAP;;MAEIK,YAAYC,WAAWN,QAAX,CAAlB;MACIO,MAAMF,SAAN,CAAJ,EAAsB;WACb,CAACL,QAAD,EAAW,IAAX,CAAP;;MAEE,CAACJ,gBAAgBS,SAAhB,EAA2BP,KAA3B,CAAL,EAAwC;WAC/B,CAACG,QAAD,EAAW,IAAX,CAAP;;SAEK,CAACI,SAAD,EAAY,KAAZ,CAAP;CAlBK;;ACXP,UAAe,0ZAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqBA,IAAMG,aAAa,IAAIC,UAAJ,EAAnB;;AAEA,IAAMC,OAAO,IAAIC,IAAJ,CAAS;OACfC,GADe;;;SAIb,GAJa;UAKZ,CAAC,GAAD,EAAM,IAAN;CALG,CAAb;AAOA,IAAMC,YAAY,IAAIC,KAAJ,CAAU;SACnBJ;CADS,CAAlB;;;;;AAOA,IAAMK,eAAe,EAArB;;AAEA,IAAMC,eAAeC,OAAOC,GAAtB,kBAGM;SAAUC,MAAMC,QAAN,GAAiB,MAAjB,GAA6BL,YAA7B,OAAV;CAHN,CAAN;;AAQA,IAAMM,WAAWJ,OAAOK,MAAlB,mBAMM;SAAUH,MAAMC,QAAN,GAAiB,MAAjB,GAA6BL,YAA7B,OAAV;CANN,CAAN;;AAWA,IAAMQ,WAAWF,SAASG,MAApB,mBAGM;SAAUL,MAAMC,QAAN,GAAiB,MAAjB,GAA6BL,eAAe,CAA5C,OAAV;CAHN,CAAN;;AAOA,IAAMU,UAAUR,OAAOC,GAAjB,mBAIG;SAAUC,MAAMC,QAAN,GAAiB,GAAjB,SAA2BL,YAA3B,OAAV;CAJH,EAKF;SAAUI,MAAMC,QAAN,GAAiB,EAAjB,GAAsB,cAAhC;CALE,CAAN;;AAQA,IAAMM,MAAM,SAANA,GAAM,GAAM,EAAlB;;IAEMC;;;wBAiBQR,KAAZ,EAAmB;;;2HACXA,KADW;;UAJnBS,KAImB,GAJX;mBACO;KAGI;;UAwBnBC,SAxBmB,GAwBP,UAACC,MAAD,EAASC,MAAT,EAAoB;4BACXC,SAAA,CAAe,CAACF,MAAD,EAASC,MAAT,CAAf,EAAiC,WAAjC,EAA8C,WAA9C,CADW;;UACvBE,GADuB;UAClBC,GADkB;;YAEzBf,KAAL,CAAWgB,cAAX,CAA0B,EAAED,QAAF,EAAOD,QAAP,EAA1B;KA1BiB;;UA6BnBG,qBA7BmB,GA6BK,eAAO;0CACVC,IAAIC,UADM;UACtBL,GADsB;UACjBC,GADiB;;YAExBL,SAAL,CAAeI,GAAf,EAAoBC,GAApB;YACKK,SAAL;KAhCiB;;UAmCnBC,SAnCmB,GAmCP,cAAM;YACXC,QAAL,CAAc;eAAa;uBACZ,CAACC,SAASC;SADX;OAAd;KApCiB;;UAyCnBC,cAzCmB,GAyCF,eAAO;2CACHP,IAAIC,UADD;UACfL,GADe;UACVC,GADU;;YAEjBL,SAAL,CAAeI,GAAf,EAAoBC,GAApB;KA3CiB;;UA8CnBW,SA9CmB,GA8CP,YAAM;YACXC,YAAL,CAAkBC,KAAlB;wBAC2B,MAAK5B,KAFhB;UAER6B,IAFQ,eAERA,IAFQ;UAEFd,GAFE,eAEFA,GAFE;UAEGD,GAFH,eAEGA,GAFH;;UAGVgB,cAAc,IAAIC,OAAJ,CAAY;kBACpB,IAAIC,KAAJ,CAAUnB,SAAA,CAAe,CAACC,GAAD,EAAMC,GAAN,CAAf,EAA2B,WAA3B,EAAwC,WAAxC,CAAV,CADoB;kBAAA;aAGzB;OAHa,CAApB;YAKKY,YAAL,CAAkBM,UAAlB,CAA6BH,WAA7B;KAtDiB;;UAyDnBV,SAzDmB,GAyDP,YAAM;yBACK,MAAKpB,KADV;UACRe,GADQ,gBACRA,GADQ;UACHD,GADG,gBACHA,GADG;;YAEXoB,GAAL,CAASC,OAAT,GAAmBC,SAAnB,CAA6BvB,SAAA,CAAe,CAACC,GAAD,EAAMC,GAAN,CAAf,EAA2B,WAA3B,EAAwC,WAAxC,CAA7B;KA3DiB;;UAEZsB,QAAL,GAAgB,IAAIC,QAAJ,CAAa,WAAb,EAA0B;gBAC9B,KAD8B;mBAE3B,gBAF2B;kBAG5B,cAH4B;aAIjC,CAJiC;gBAK9B,KAL8B;oBAM1B,IAN0B;6BAOjB,CAPiB;sBAQxB;KARF,CAAhB;UAUKX,YAAL,GAAoB,IAAIY,YAAJ,CAAiB;;KAAjB,CAApB;UAGKC,WAAL,GAAmB,IAAIC,WAAJ,CAAgB;cACzB,MAAKd,YADoB;aAE1BjC;KAFU,CAAnB;;UAKKwC,GAAL,GAAW,IAAX;UACKQ,EAAL,YAAiB1C,MAAM6B,IAAvB;;;;;;6BAyCO;UACCL,WADD,GACiB,KAAKf,KADtB,CACCe,WADD;;aAGL;oBAAA;UAAc,UAAUA,WAAxB;sBACiB,EAAd,GAAmB,oBAAC,QAAD,IAAU,OAAM,YAAhB,EAA6B,SAAS,KAAKH,SAA3C,GADtB;4BAEG,OAAD,IAAS,IAAI,KAAKqB,EAAlB,EAAsB,UAAUlB,WAAhC,GAFF;sBAGiB,oBAAC,QAAD,IAAU,OAAM,cAAhB,EAA+B,SAAS,KAAKH,SAA7C,GAAd,GAA2E;OAJhF;;;;uCASiBsB,WAAW;UACxBA,UAAU5B,GAAV,KAAkB,KAAKf,KAAL,CAAWe,GAA7B,IAAoC4B,UAAU7B,GAAV,KAAkB,KAAKd,KAAL,CAAWc,GAArE,EAA0E;aACnEY,SAAL;;;;;wCAIgB;mBACS,KAAK1B,KADd;UACVe,GADU,UACVA,GADU;UACLD,GADK,UACLA,GADK;UACA8B,IADA,UACAA,IADA;;WAEbV,GAAL,GAAW,IAAIW,GAAJ,CAAQ;gBACT,KAAKH,EADI;gBAET,CACN,IAAII,IAAJ,CAAS;kBACC,IAAIC,GAAJ;SADV,CADM,EAIN,KAAKP,WAJC,CAFS;cAQX,IAAIQ,IAAJ,CAAS;kBACLnC,UAAA,CAAgB,CAACC,GAAD,EAAMC,GAAN,CAAhB,CADK;gBAEP6B;SAFF;OARG,CAAX;WAaKV,GAAL,CAASe,UAAT,CAAoB5D,UAApB;WACKgD,QAAL,CAAca,EAAd,CAAiB,eAAjB,EAAkC,KAAKjC,qBAAvC;WACKiB,GAAL,CAASe,UAAT,CAAoB,KAAKZ,QAAzB;WACKH,GAAL,CAASgB,EAAT,CAAY,aAAZ,EAA2B,KAAKzB,cAAhC;WACKC,SAAL;;;;EAnHuByB;;AAArB3C,aACG4C,YAAY;QACXC,UAAUC,MAAV,CAAiBC,UADN;kBAEDF,UAAUG,IAFT;OAGZH,UAAUI,MAHE;OAIZJ,UAAUI,MAJE;QAKXJ,UAAUI,MAAV,CAAiBF;;AANrB/C,aASGkD,eAAe;kBACJnD;;;;;AC/EpB,IAAMoD,MAAM7D,OAAOC,GAAb,mBAAN;;IAMqB6D;;;4BAaP5D,KAAZ,EAAmB;;;mIACXA,KADW;;UAKnB6D,kBALmB,GAKE,gBAAkB;UAAf9C,GAAe,QAAfA,GAAe;UAAVD,GAAU,QAAVA,GAAU;;YAChCQ,QAAL,CAAc;gBAAA;;OAAd;KANiB;;UAYnBwC,cAZmB,GAYF,eAAO;UAClB5C,IAAI6C,GAAJ,KAAY,OAAhB,EAAyB;cAClB7B,GAAL,CAASd,SAAT;YACI4C,cAAJ;YACIC,eAAJ;;KAhBe;;UAEZxD,KAAL,gBAAkBT,MAAMkE,QAAxB;;;;;;6BAkBOrC,MAAM;;;aACN,iBAAS;YACRhD,WAAWsF,MAAMC,MAAN,CAAaC,KAA9B;eACK/C,QAAL,CAAc,oBAAY;kDACO1C,aAAaC,QAAb,EAAuB0C,SAASM,IAAT,CAAvB,EAAuCA,IAAvC,CADP;cACjByC,OADiB;cACRC,OADQ;;cAEpBD,YAAY/C,SAASM,IAAT,CAAhB,EAAgC;mBACvB,IAAP;;cAEE,CAAC0C,OAAL,EAAc;mBACPvE,KAAL,CAAWwE,QAAX,cAAyBjD,QAAzB,qBAAyCM,IAAzC,EAAgDyC,OAAhD;;oCAGCzC,IADH,EACUyC,OADV;SARF;OAFF;;;;6BAiBO;;;mBAC4B,KAAKtE,KADjC;UACCyE,MADD,UACCA,MADD;UACSC,QADT,UACSA,QADT;UACmB7C,IADnB,UACmBA,IADnB;UAECe,IAFD,GAEU8B,QAFV,CAEC9B,IAFD;UAGC+B,KAHD,GAGWF,MAHX,CAGCE,KAHD;mBAIwB,KAAKlE,KAJ7B;8BAICM,GAJD;UAICA,GAJD,8BAIO,EAJP;8BAIWD,GAJX;UAIWA,GAJX,8BAIiB,EAJjB;;UAKD8D,QAAW/C,IAAX,SAAN;UACMgD,QAAWhD,IAAX,SAAN;aAEE;WAAA;UAAK,WAAU,KAAf;;;YACO,WAAU,WAAf;;;cACS,SAAS+C,KAAhB;qBAAiC/C;;SAFrC;;;YAIO,WAAU,oBAAf;;;cACO,WAAU,aAAf;;;gBACQ,WAAU,mBAAhB,EAAoC,IAAI+C,KAAxC;;aADF;;yBAKc,cADZ;kCAEoBA,KAFpB;oBAGO,MAHP;kBAISA,KAAP,WAJF;qBAKS7D,GALT;0BAMc,KAAK+C,cANnB;wBAOY,KAAKU,QAAL,CAAc,KAAd;;;SAhBlB;;;YAoBO,WAAU,oBAAf;;;cACO,WAAU,aAAf;;;gBACQ,WAAU,mBAAhB,EAAoC,IAAIK,KAAxC;;aADF;;yBAKc,cADZ;kCAEoBA,KAFpB;oBAGO,MAHP;kBAISA,KAAP,WAJF;qBAKS/D,GALT;0BAMc,KAAKgD,cANnB;wBAOY,KAAKU,QAAL,CAAc,KAAd;;;SAhClB;;;YAoCO,WAAU,WAAf;8BACG3B,YAAD;iBACO;qBAAQ,OAAKX,GAAL,GAAWA,GAAnB;aADP;kBAEQL,IAFR;iBAGOd,GAHP;iBAIOD,GAJP;kBAKQ8B,IALR;4BAMkB,KAAKiB;;;OA5C7B;;;;EA1D0CV;;AAAzBS,iBACZR,YAAY;YACPC,UAAUyB,MADH;UAETzB,UAAUyB,MAFD;YAGPzB,UAAUyB,MAHH;YAIPzB,UAAUG,IAJH;QAKXH,UAAUC,MAAV,CAAiBC;;AANNK,iBASZF,eAAe;YACV,oBAAM;;;ACpBpB,YAAe;eACAE;CADf;;;;"}